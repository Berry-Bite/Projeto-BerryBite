<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="./estufas.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Jomhuria&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link rel="icon" href="icons/logo-berry.png" type="image/x-icon">
  <title>Berry Bite | Estufas</title>
</head>

<body>

  <div id="div_fundo" class="pagina">

    <!--NavBar/ Header-->
    <div class="header_left">

      <div class="marca">
          <img src="./icons/logo-berry.png" class="logo_header">
          <span>Berry.Bite</span>
      </div>

      <div class="container">

          <div id="user"></div>

          <div class="menu">
              <button onclick="parametros()">Paramêtros</button>
              <button style="background-color: #7AB8CC;" onclick="estufas()">Estufas</button>
              <button>Dashboard</button>
              <button>Contato</button>
          </div>

          <div class="sair">
              <button onclick="sair()">Sair</button>
          </div>

      </div>

  </div>

  
<!-- Parte da página a direita-->
    <div class="mural_rigth">

      <div id="select_estufas" class="minhas_estufas">
      <h1>Fazenda Colheita Feliz</h1>
        <button onclick="ativar1()" type="submit" aria-label="estufa omega">
          <img src="./icons/estufa.png" alt="estufa" ><br><br><span>Estufa Omega</span>
        </button>

        <button onclick="ativar2()" type="submit" aria-label="estufa omega">
          <img src="./icons/estufa.png" alt="estufa" ><br><br><span>Estufa Violet</span>
        </button>

      </div>

      <div id="estufa_omega">

        <div class= "id-estufa">
          <h2>Estufa Omega</h2>
        </div>
        <!--<div class="estufa1"></div> -->

        <div class="box_info">

          <div id="box_info_temp">
            <div id="text_temp">
              <h3>Temperatura atual:</h3>
              <p id="temperatura_atual"></p>
            </div>
          </div>

          <div id="box_info_umi">
            <div id="text_umi">
              <h3>Umidade atual:</h3>
              <p id="umidade_atual"></p>
            </div>
          </div>

        </div>

        <div class="estufa1_temperatura">
          <canvas id="chart_temp"></canvas>
        </div>
        <div class="estufa1_umidade">
          <canvas id="chart_umi"></canvas>
        </div>

        <div class="voltar">
        <button onclick="inicio()">Voltar</button>
      </div>

      </div>

 <!--Estufa Violet-->
      <div id="estufa_violet">

        <div class= "id_estufa">
          <h2>Estufa Violet</h2>
        </div>
     

        <div class="box_info">

          <div id="box_info_temp">
            <div id="text_temp">
              <h3>Temperatura atual:</h3>
              <p id="temperatura_atual"></p>
            </div>
          </div>

          <div id="box_info_umi">
            <div id="text_umi">
              <h3>Umidade atual:</h3>
              <p id="umidade_atual"></p>
            </div>
          </div>

        </div>

        <div class="estufa1">
          <canvas id="chart_temp_violet"></canvas><br>
          <canvas id="chart_umi_violet"></canvas>
        </div>

        <div class="voltar">
        <button onclick="inicio()">Voltar</button>
      </div>

      </div>

    </div>

  </div>




</body>

</html>

<script>
  var nome = 'Fernanda';
    user.innerHTML = `<span id="nome">Bem-vindo(a)<br>${nome}</span>`;

    var temperatura_atual = 21.7;
    var umidade_atual = 56.9;

    temperatura_atual.innerHTML = temperatura_atual + "ºC";
    umidade_atual.innerHTML = umidade_atual + "%";
    
    if (temperatura_atual >= 16.1 && temperatura_atual <= 21.9) {
      box_info_temp.style = "background-color: #BB2B45; width: 15%; height: 10%; text-align: center; border-radius: 15px;";
    } else if (temperatura_atual >= 13 && temperatura_atual <= 26) {
      box_info_temp.style = "background-color: #E6C84C; width: 15%; height: 10%; text-align: center; border-radius: 15px;";
    } else {
      box_info_temp.style = "background-color: #6BB87A; width: 15%; height: 10%; text-align: center; border-radius: 15px;";
    }

    if (umidade_atual >= 16.1 && umidade_atual <= 21.9) {
      box_info_umi.style = "background-color: #BB2B45; width: 15%; height: 10%; text-align: center; border-radius: 15px;";
    } else if (umidade_atual >= 13 && umidade_atual <= 26) {
      box_info_umi.style = "background-color: #E6C84C; width: 15%; height: 10%; text-align: center; border-radius: 15px;";
    } else {
      box_info_umi.style = "background-color: #6BB87A; width: 15%; height: 10%; text-align: center; border-radius: 15px;";
    }

    function estufas() {
        window.location.href = "./estufas.html";
    }

    function parametros() {
        window.location.href = "./dashboard.html";
    }

    function sair() {
        window.location.href = "./home.html";
    }
  
  function ativar1(){
    estufa_omega.style.display= "block"; 
    estufa_violet.style.display= "none";
    select_estufas.style.display= "none";
  }
  function ativar2(){
    estufa_omega.style.display= "none"; 
    estufa_violet.style.display= "block";
    select_estufas.style.display= "none";
  }

  function inicio(){
    window.location.href = "./estufas.html";
  }

  const ctxTemperatura = document.getElementById('chart_temp');
  const ctxUmidade = document.getElementById('chart_umi');


  new Chart(ctxTemperatura, {
    type: 'line',
    data: {
      labels: ['12:00', '12:10', '12:20', '12:30', '12:40', '12:50', '13:00'],
      datasets: [{
        label: 'Temperatura',
        data: [18.7, 19.3, 18.5, 19.9, 20.1, 21.3, 21.7],
        borderWidth: 3,
        borderColor: '#5EB7D1',
        pointBackgroundColor: '#5EB7D1',
        pointRadius: 4,
        backgroundColor: '#5EB7D1',
        pointHoverRadius: 10
      },
      {
        label: 'Perigo frio',
        data: [13, 13, 13, 13, 13, 13, 13],
        borderColor: '#BB2B45',
        borderWidth: 1,
        pointBackgroundColor: '#BB2B45',
        backgroundColor: '#BB2B45',
        pointRadius: 3,
        pointHoverRadius: 5
      },
      {
        label: 'Alerta frio',
        data: [16, 16, 16, 16, 16, 16, 16],
        borderWidth: 1,
        borderColor: '#E6C84C',
        pointBackgroundColor: '#E6C84C',
        backgroundColor: '#E6C84C',
        pointRadius: 3,
        pointHoverRadius: 5
      },
      {
        label: 'Alerta calor',
        data: [22, 22, 22, 22, 22, 22, 22],
        borderWidth: 1,
        borderColor: '#E6C84C',
        pointBackgroundColor: '#E6C84C',
        backgroundColor: '#E6C84C',
        pointRadius: 3,
        pointHoverRadius: 5
      },
      {
        label: 'Perigo calor',
        data: [26, 26, 26, 26, 26, 26, 26],
        backgroundColor: '#BB2B45',
        borderColor: '#BB2B45',
        borderWidth: 1,
        pointBackgroundColor: '#BB2B45',
        pointRadius: 3,
        pointHoverRadius: 5
      }]
    },
    options: {
      scales: {
        y: {
          beginAtZero: false
        }
      }
    }
  });

  new Chart(ctxUmidade, {
    type: 'line',
    data: {
      labels: ['12:00', '12:10', '12:20', '12:30', '12:40', '12:50', '13:00'],
      datasets: [{
        label: 'Umidade Atual',
        data: [55.4,57.0,60.3,63.8,65,59.3,56.9],
        borderWidth: 3,
        borderColor: '#5EB7D1',
        pointBackgroundColor: '#5EB7D1',
        pointRadius: 4,
        backgroundColor: '#5EB7D1',
        pointHoverRadius: 10
      },
      {
        label: 'Perigo Baixa',
        data: [40, 40, 40, 40, 40, 40, 40],
        backgroundColor: '#BB2B45',
        borderColor: '#BB2B45',
        borderWidth: 1,
        pointBackgroundColor: '#BB2B45',
        pointRadius: 3,
        pointHoverRadius: 5
      },
      {
        label: 'Alerta Abaixo',
        data: [60, 60, 60, 60, 60, 60, 60],
        borderWidth: 1,
        borderColor: '#E6C84C',
        pointBackgroundColor: '#E6C84C',
        backgroundColor: '#E6C84C',
        pointRadius: 3,
        pointHoverRadius: 5

      },
      {
        label: 'Alerta Acima',
        data: [75, 75, 75, 75, 75, 75, 75],
        borderWidth: 1,
        borderColor: '#E6C84C',
        pointBackgroundColor: '#E6C84C',
        backgroundColor: '#E6C84C',
        pointRadius: 3,
        pointHoverRadius: 5
      },
      {
        label: 'Perigo Acima',
        data: [80, 80, 80, 80, 80, 80, 80],
        backgroundColor: '#BB2B45',
        borderColor: '#BB2B45',
        borderWidth: 1,
        pointBackgroundColor: '#BB2B45',
        pointRadius: 3,
        pointHoverRadius: 5
      }]
    },
    options: {
      scales: {
        y: {
          beginAtZero: false
        }
      }
    }
  });

  //dados da estufa violet

  const ctxTemperatura_violet = document.getElementById('chart_temp_violet');
  const ctxUmidade_violet = document.getElementById('chart_umi_violet');


  new Chart(ctxTemperatura_violet, {
    type: 'line',
    data: {
      labels: ['12:00', '12:10', '12:20', '12:30', '12:40', '12:50', '13:00'], //panoramas, eixo x
      datasets: [{
        label: 'Temperatura',
        data: [18.7, 19.3, 18.5, 19.9, 20.1, 21.3, 21.7], //valores de temperaturas registrados;
        borderWidth: 1
      },
      //parâmetros de alerta
      {
        label: 'Perigo frio',
        data: [13, 13, 13, 13, 13, 13, 13],
        borderWidth: 1
      },
      {
        label: 'Alerta frio',
        data: [16, 16, 16, 16, 16, 16, 16],
        borderWidth: 1
      },
      {
        label: 'Alerta calor',
        data: [22, 22, 22, 22, 22, 22, 22],
        borderWidth: 1
      },
      {
        label: 'Perigo calor',
        data: [26, 26, 26, 26, 26, 26, 26],
        borderWidth: 1
      }]
    },
    options: {
      scales: {
        y: {
          beginAtZero: false
        }
      }
    }
  });

  new Chart(ctxUmidade_violet, {
    type: 'line',
    data: {
      labels: ['12:00', '12:10', '12:20', '12:30', '12:40', '12:50', '13:00'],
      datasets: [{
        //dados coletados
        label: 'Umidade',
        data: [88.1, 84.6, 82.3, 73.7, 73.1, 74.2, 69.5],
        borderWidth: 1
      },
      //parâmetros de alerta
      {
        label: 'Perigo baixa Umidade',
        data: [40, 40, 40, 40, 40, 40, 40],
        borderWidth: 1
      },
      {
        label: 'Umidade abaixo',
        data: [60, 60, 60, 60, 60, 60, 60],
        borderWidth: 1
      },
      {
        label: 'Umidade acima',
        data: [75, 75, 75, 75, 75, 75, 75],
        borderWidth: 1
      },
      {
        label: 'Perigo alta Umidade',
        data: [80, 80, 80, 80, 80, 80, 80],
        borderWidth: 1
      }]
    },
    options: {
      scales: {
        y: {
          beginAtZero: false
        }
      }
    }
  });



</script>